(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b56763f2"],{"09de":function(t,e,s){"use strict";s("0e30")},"0e30":function(t,e,s){},"23be":function(t,e,s){},4532:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Crumb"},t._l(t.nav,(function(e,i){return s("span",{key:i,class:i===t.nav.length-1?"active":""},[t._v(t._s(e.name)+" "),s("i",{directives:[{name:"show",rawName:"v-show",value:i!==t.nav.length-1,expression:"index !== nav.length - 1"}]},[t._v("/")])])})),0)},a=[],n={props:["nav"]},o=n,r=(s("09de"),s("cba8")),c=Object(r["a"])(o,i,a,!1,null,"11d35996",null);e["a"]=c.exports},8629:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Goods"},[s("div",{staticClass:"center"},[s("Crumb",{attrs:{nav:[{name:"全部"}]}}),t._m(0),s("div",{staticClass:"tagBox"},[s("ul",{staticClass:"tag1"},[s("li",[t._v("排序：")]),t._l(t.tag1,(function(e,i){return s("li",{key:i,class:t.tag1Num===i?"active":"",on:{click:function(s){return t.searchByScore(i,e.min,e.max)}}},[t._v(" "+t._s(e.msg)+" ")])}))],2),s("ul",{staticClass:"tag2"},[s("li",[t._v("分类：")]),t._l(t.tag2,(function(e,i){return s("li",{key:i,class:t.tag2Num===i?"active":"",on:{click:function(s){return t.searchByClass(i,e.type)}}},[t._v(" "+t._s(e.msg)+" ")])}))],2)]),s("Product",{attrs:{list:t.showList}}),s("div",{staticClass:"loadingText"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]},[t._v("正在加载...")]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.hasReachedBottom,expression:"hasReachedBottom"}]},[t._v("没有更多了")])])],1)])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hot-image"},[i("img",{attrs:{src:s("43da"),alt:""}})])}],n=s("d941"),o=s("c3ae"),r=(s("ce2f"),s("6a08"),s("30f5")),c=s("4532"),m=s("fd03"),h=s("ed08"),d={data:function(){return{list:[],showList:[],tag1Num:0,tag2Num:0,tag1:[{msg:"全部",min:0,max:0},{msg:"我能兑换的",min:0,max:0},{msg:"0-500分",min:0,max:500},{msg:"500-1000分",min:500,max:1e3},{msg:"1000-1500分",min:1e3,max:1500},{msg:"1500-2500分",min:1500,max:2500},{msg:"2500-6500分",min:2500,max:6500},{msg:"6500-10000分",min:6500,max:1e4},{msg:"10000分以上",min:1e4,max:1e5}],tag2:[{msg:"全部",type:0},{msg:"实物礼品",type:1},{msg:"虚拟物品",type:2}],did:0,type:0,min:0,max:0,keyword:"",page:1,size:8,isLoading:!1,hasReachedBottom:!1}},mounted:function(){window.addEventListener("scroll",this.scrollLoading)},beforeDestroy:function(){window.removeEventListener("scroll",this.scrollLoading)},methods:{scrollLoading:function(){var t=this;if(Object(h["a"])()+Object(h["c"])()>=Object(h["b"])()-20){if(this.showList.length>=this.list.length)return void(this.hasReachedBottom=!0);!1===this.isLoading&&(this.isLoading=!0,setTimeout((function(){t.page++;for(var e=(t.page-1)*t.size;e<t.size*t.page;e++)t.list[e]&&t.showList.push(t.list[e]);t.isLoading=!1}),500))}},searchByScore:function(t,e,s){this.tag1Num=t,this.min=e,this.max=s,this.goodsSearch({did:this.did,type:this.type,min:this.min,max:this.max,keyword:this.keyword})},searchByClass:function(t,e){this.tag2Num=t,this.type=e,this.goodsSearch({did:this.did,type:this.type,min:this.min,max:this.max,keyword:this.keyword})},goodsSearch:function(){var t=this;return Object(o["a"])(Object(n["a"])().mark((function e(){var s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["h"])({did:t.did,type:t.type,min:t.min,max:t.max,keyword:t.keyword});case 2:s=e.sent,t.list=s.data,t.showList=t.list.filter((function(t,e){return e<8})),t.hasReachedBottom=!1,t.page=1,t.showList.length>=t.list.length&&(t.hasReachedBottom=!0);case 8:case"end":return e.stop()}}),e)})))()}},watch:{"$route.query.keyword":{handler:function(t,e){this.keyword=t,this.goodsSearch()}}},created:function(){this.keyword=this.$route.query.keyword||"",this.goodsSearch()},components:{Product:r["a"],Crumb:c["a"]}},u=d,l=(s("aef3"),s("cba8")),g=Object(l["a"])(u,i,a,!1,null,null,null);e["default"]=g.exports},aef3:function(t,e,s){"use strict";s("23be")}}]);